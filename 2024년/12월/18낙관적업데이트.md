# 낙관적 업데이트란?

**낙관적 업데이트**는 성공적인 상태 업데이트가 이뤄질 거라는 가정 하에 서버 응답
이전에 UI를 미리 업데이트하는 방법입니다.

대표적인 예시로는 **게시글 좋아요** 기능이 이에 해당합니다. 사용자가 게시글에 좋
아요 버튼을 클릭하면 서버에서 처리하기 전, 미리 클릭에 대한 상테를 보여줍니다.
서버 응답이 성공적으로 돌아오면 변경된 상태를 유지하고, 실패할 경우에는 상태를해
제하거나 오류 메세지를 보여주는 방식입니다.

## 왜 사용하나요?

낙관적 업데이트를 사용하게 되면, 서버 응답 속도와 관계없이 즉각적인 피드백으로사
용자가 시스템을 빠르게 사용할 수 있습니다. 특히 네트워크 상태가 좋지 않거나, 응
답시간이 길어져도 사용자 경험에는 크게 영향을 미치지 않습니다.

## 고려해야 할 부분은 무엇인가요?

서버에서 오류가 발생하면 잠시동안 잘못된 상태를 표시하게 됩니다. 따라서 서버에서
요청이 실패할 경우를 대비하여 오류 핸들링(롤백) 로직을 설계하여야 합니다.

## 그렇다면 낙관적 업데이트를 사용하면 무조건 좋은 건가요?

무조건 사용하면 좋은 것은 아닙니다. 요청이 성공할 가능성이 높고, 사용자 경험을즉
시 개선하는 데 큰 장점이 있는 경우에 사용하는 것이 좋습니다.

아래의 경우들은 **낙관적 업데이트를 사용하면 좋지 않은 경우들입니다.**

1. 민감한 정보를 다루는 경우에는 잘못된 정보 표기가 큰 악영향을 미칠 수 있습니다
   . 예를 들어 금액을 다루는 거래, 결제 내역 같은 경우가 이에 해당합니다.
2. 네트워크 환경이 불안정한 경우에는 잦은 오류 핸들링 발생으로 사용자 경험을 저
   해할 수 있습니다. 이런 경우에는 오히려 서버의 응답을 기다리는 것이 더 나은 방
   법이 될 수 있습니다.

## 낙관적 업데이트를 겪어본 적이 있나요?

앞에서 언급한 예시로 인스타그램의 좋아요 기능을 경험해보았습니다. 네트워크가 불
안정한 경우에는 좋아요 버튼을 눌렀음에도 새로고침이나 해당 페이지에 새로 접근하
게 되면 좋아요가 되어 있지 않은 경우도 경험해보았습니다. 이것이 요청 실패에 대한
오류 핸들링(롤백)이라는 것을 알게 되었습니다.
