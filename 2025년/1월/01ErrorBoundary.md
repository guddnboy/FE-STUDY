# React의 Error Boundary란 무엇이며, 이를 사용해야 하는 이유는 무엇인가요?

## Error Boundary란 무엇인가요?

Error Boundary는 **React 컴포넌트에서 발생하는 오류를 잡아내고, 전체 애플리케이션이 다운되는 것을 방지하기 위한 특수한 컴포넌트**입니다. 일반적으로 **클라이언트에서 오류가 발생할 때 표시할 UI를 제공**하여, 애플리케이션의 신뢰성과 사용자 경험을 높이는 데 활용됩니다. Error Boundary는 **클래스형 컴포넌트에서만 사용**할 수 있습니다.

## Error Boundary가 왜 필요한가요?

React는 기본적으로 비동기 작업에서 발생하는 오류를 자동으로 처리하지 않으므로, 오류가 발생할 경우 페이지 전체가 공백이 되거나, 사용자 입장에서는 알 수 없는 화면이 표시되는 상황이 발생할 수 있습니다. 이러한 문제를 해결하기 위해 **에러가 발생한 영역에서 대체 UI를 표시하고, 애플리케이션의 나머지 부분은 정상적으로 동작**하도록 Error Boundary를 사용합니다.

또한 Error Boundary는 오류 발생 시의 대체 UI 로직을 **선언형으로 작성**할 수 있게 하여 코드의 가독성과 유지 보수성을 높이는 데 도움이 됩니다.

### 선언형으로 작성한다는 것이 무슨 의미이고 왜 유지 보수성에 도움이 되나요?

선언형으로 작성한다는 의미는, **개발자가 "무엇을 해야 하는지"를 정의하는 방식**으로, "어떻게 할지"에 대한 세부적인 절차를 직접 작성하지 않아도 된다는 것을 뜻합니다. 예를 들어, Error Boundary에서 "이 컴포넌트가 오류를 감지하면 특정 대체 UI를 보여준다."와 같은 목적을 코드 상에서 명시함으로써, 실제로 오류가 발생할 때 실행되는 세부적인 절차는 컴포넌트가 알아서 처리하게 됩니다.

유지 보수성에 도움이 되는 이유는, **선언형 코드가 명령형 코드에 비해 직관적이고 간결하여 가독성이 높기 때문**입니다. 예를 들어, Error Boundary로 감싼 영역이 어떤 방식으로 에러를 처리할지 한 눈에 알 수 있습니다. 또한, 비즈니스 로직과 에러 처리 로직이 명확하게 분리되어 코드의 복잡성이 낮아집니다.

# 추가로 학습한 부분

> Error Boundary는 React 16에 도입된 개념으로 애플리케이션 렌더링 중 오류가 발생하면 해당 UI를 지우는 것이 아니라 fallback UI를 그리며 자바스크립트 에러를 기록할 수 있게 해줍니다.

## `getDerivedStateFromError()`와 `componentDidCatch()` 두 생명 주기에 대해서

### `getDerivedStateFromError`

하위 자손 컴포넌트에서 오류가 발생했을 때 호출되는 생명주기. 오류를 파라미터로 전달 받고 갱신된 state를 반드시 반환해야 합니다.

### `componentDidCatch(error,info)`

자식 컴포넌트에서 오류가 발생했을 때 호출되며 커밋 단계에서 호출함으로 부수효과를 발생시켜도 됩니다. - `error` : 발생한 오류 - `info` : 오류를 발생시킨 컴포넌트 정보를 포함하는 객체입니다.(`componentStack`에 담겨 있습니다.)

**위 두 라이프사이클 메서드는 클래스형 컴포넌트에서만 사용이 가능합니다. 함수형으로 구현하고 싶다면 `react-error-boundary`를 사용하면 구현할 수 있습니다.**
