# 리액트에서 `useEffect`로 로딩상태를 관리하는 방법과 `<Suspense>`를 활용하는 방법의 차이점은 무엇인가요?

## `useEffect`로 로딩상태관리는 어떻게 하나요?

우선 로딩 상태를 관리하기 위해 별도의 변수(예시로, `loading`으로 합니다.) 를 설정해야 합니다. 로딩 중일 경우에는 `loading` 변수에 `true` 값을 할당 시키고, 데이터를 모두 불러오면 `false`값으로 변경시켜 조건에 따라 UI를 보여줍니다.

여러 개의 비동기 데이터를 처리하게 될 경우에는 조건부 렌더링 로직이 복잡해질 수 있는 단점이 있습니다.

## `<Suspense>`를 활용하는 방법은 무엇인가요?

`<Suspense>`는 실제 UI가 로드되기 전까지 대체할 UI를 보여줍니다. 데이터를 기다리는 동안 `fallback`을 보여주고 로드가 완료되면 실제 UI를 보여줍니다.

여러 개의 `<Suspense>`를 중첩하거나 트리구조로 사용하게 될 경우, 데이터를 로드하는 시점들이 다르기 때문에 로딩화면이 여러번 중복되어 표시될 수 있습니다.

또한 `<Suspense>`는 `Promise` 기반의 비동기 작업에만 지원합니다. 따라서 일반적인 `fetch` 요청에 사용하지 못하므로 추가적인 라이브러리를 사용하거나 `Promise`객체로 작업을 관리해야 합니다.

# 몰라서 추가로 학습한 부분

## 리액트에서 `<Suspense>`는 무엇인가요?

`<Suspense>` 태그는 자식 요소가 로드되기 전까지 화면에 대체할 UI를 보여주는 태그입니다.

- `children` : 궁극적으로 보여질 UI 컴포넌트입니다. `children`의 렌더링이 지연이 되면 `Suspense`는 `fallback`을 대신 렌더링합니다.
- `fallback` : 실제UI가 로드되기 전까지 대체할 UI입니다.

```js
<Suspense fallback={<Loading />}>
  <SomeComponent />
</Suspense>
```
